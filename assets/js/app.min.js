'use strict';function hasClass(a,b){return a.classList?a.classList.contains(b):new RegExp("\\b"+b+"\\b").test(a.className)}function addClass(a,b){a.classList?a.classList.add(b):!this.hasClass(a,b)&&(a.className+=" "+b)}function removeClass(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("\\b"+b+"\\b","g"),"")}function createElement(a,b){let c=document.createElement(a);for(let d in b)c[d]=b[d];return c}function CreateListItemAndAppendToContainer(a,b,c){let d=createElement("li",{className:"list-projects__item",id:"list-projects__item-"+b}),e=createElement("a",{href:a.html_url,target:"_blank",text:a.name});if(d.appendChild(e),a.description){let b=createElement("span",{className:"list-projects__item--desc",textContent:" - "+a.description});d.appendChild(b)}c.appendChild(d)}function Components(){const{repositories:a,favorites:b}=window.app;return{mobileNavigation:function(){let a="navigation--open",b=document.querySelector("*[data-component=\"top-navigation\"]");if(b){let c=b.querySelector(".navigation--button");return c&&c.addEventListener("click",function(){hasClass(b,a)?removeClass(b,a):addClass(b,a)}),b}},repositories:function(){let b=document.querySelector("*[data-component=\"repositories\"]");if(b)return a.map(function(a,c){return new CreateListItemAndAppendToContainer(a,c,b)}),b},favorites:function(){let a=document.querySelector("*[data-component=\"favorites\"]");if(a)return b.map(function(b,c){return new CreateListItemAndAppendToContainer(b,c,a)}),a}}}function LocalStorage(){return{_data:{},setItem:function(a,b){return this._data[a]=b},getItem:function(a){return this._data[a]},removeItem:function(a){return delete this._data[a]},clear:function(){return this._data={}}}}async function API(a,b){const c=b.getItem(a);if(c)return JSON.parse(c);const d=await(async a=>{const b=await fetch(`${"https://api.navidonskis.com"}/${a}`);return await b.json()})(a);return b.setItem(a,JSON.stringify(d)),d}(async function(){const a=typeof window.sessionStorage?window.sessionStorage:new LocalStorage;window.app={},window.app.repositories=await API("github/repositories",a),window.app.favorites=await API("github/favorites",a),window.app.activities=await API("strava/activities",a),window.app.components=[new Components().mobileNavigation(),new Components().repositories(),new Components().favorites()]})();
